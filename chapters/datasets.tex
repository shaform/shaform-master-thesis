%
%   Chapter Datasets
%
%   Yong-Siang Shih
%   R.O.C.104.07
%
\chapter{Datasets}
\label{c:datasets}

In this chapter, we discuss the datasets we use in our study, and
provide some statistics and analysis.

\section{Chinese Discourse Treebank (CDTB)}
\label{c:CDTB}
\subsection{Introduction}

Chinese Discourse Treebank (CDTB)~\citep{li2014building} is a discourse
corpus that contains 500 articles from the Chinese Treebank (CTB)~\citep{xue2005penn}.
Totally, it contains 2,342 paragraphs.
Inspired by RST and PDTB, they proposed the Connective-driven Dependency Tree (CDT)
scheme to annotate the documents.

In CDTB, each paragraph is represented as a discourse tree. The leaf nodes are the
elementary discourse units (EDUs) for the text, while internal nodes are discourse
relations between discourse units. This is very similar to RST-DT.

The set of discourse relation types is organized in a three-level hierarchy as
shown in Figure~\ref{i:three-level}.
The top-level categories have four relation types including causality, coordination,
transition, and explanation. The second level
have 17 types. The third level are the discourse connectives themselves.
As some connectives may be used for different relation types, there may
be multiple third-level connectives that have the same surface form under
different second-level relation types. For example, the connective
``并'' (and) appear in the following second-level relation types:
progressive, continue, explanation, coordination.

% i:three-level
\input{figures/three-level}

For an explicit relation, once its second-level type is determined, the
third-level type is just its explicit connective. For an implicit relation,
a connective that could be inserted is annotated as its third-level type.
Sometimes there is no appropriate connective to be inserted. In that case,
the relation is only annotated with a second-level relation type.

Consider the example sentences (S~\ref{sent:cdtb}) from CDTB. Its discourse
structure are shown in Figure~\ref{i:cdtb-tree}. The continue relation between
discourse units (a-b) and (c) is implicit, but ``以后'' (later) can be inserted
as a connective as denoted by ``<以后>'' in (S~\ref{sent:cdtb}).
On the other hand, the explanation relation between (d) and (e-g)
does not have an inserted connective.


\begin{sent}{sent:cdtb}{}
    [\underline{尽管}浦东新区制定的法规性文件有些比较``粗''，]\textsuperscript{a}
    [有些\underline{还}只是暂行规定，]\textsuperscript{b}
    [有待<以后>在实践中逐步完善，]\textsuperscript{c}
    [\underline{但}这种法制紧跟经济和社会活动的做法，]\textsuperscript{d}
    [受到了国内外投资者的好评，]\textsuperscript{e}
    [他们认为，到浦东新区投资办事有章法，]\textsuperscript{f}
    [讲规矩，]\textsuperscript{g}
    [利益能得到保障。]\textsuperscript{h}

    (Although some regulatory documents for the Pudong New Area are "rough",
    and some regulations are still temporary and
    need to be refined gradually,
    the practice for regulations to closely follow economic and social activities
    are praised by domestic and foreign investors.
    Their view on investing in the Pudong New Area is that
    things are done methodologically,
    rules are followed,
    and their interest can be protected.)
\end{sent}

% i:cdtb-tree
\input{figures/cdtb-tree}

Since we only consider explicit relations in our studies, we will ignore
third-level relation types from now on to avoid confusion.
For an explicit relation, the second-level relation type and its explicit
connective can already uniquely determine its relation type.
When we refer to connective classes in the following section, we mean the
surface forms of connectives (i.e. instances of the same connective class
may have different relation types).

\subsection{Analysis}

During our experiments, we found some errors in the corpus including
duplicate annotations and erroneous positions, so we corrected
them. After the correction, there are 2,131 connective component instances
annotated for the explicit relations, and they form 1,813 connective instances.
The length distribution for the connectives are shown in Table~\ref{t:connective-length}.
The distribution is imbalance. Most connectives only have
one or two connective components. Also, while some connectives have many instances,
many connectives appear rarely. The frequencies for the connectives are shown
in Figure~\ref{i:freq}. There are totally 274 classes of connectives, but
147 of them only appear once.

% t:connective-length
\input{tables/connective-length}

% i:freq
\input{figures/freq}


We list the top 25 classes of connectives in Figure~\ref{i:connective-types}.
Most of these connectives have only one component.

% i:connective-types
\input{figures/connective-types}

While there are totally 274 classes of connectives, there are only 227 classes
of connective components found in the explicit relation annotations. This
is because many components can either be a single connective or link
with other components to form a parallel connective. We collect these
connectives and connective components to construct a connective lexicon
that has 274 entries and a component lexicon that has 227 entries.


Although many connectives appear rarely, there exist many spurious connective
candidates that do not actually have discourse meaning. This can be seen in
Figure~\ref{i:freq-detected}. We show the number of connective candidates
detected if we use string matching with the connective lexicon to extract
all connective candidates from the corpus. This problem is partly caused by the linking
ambiguities but the large number of spurious component candidates is a worse problem.
These spurious component candidates introduce a lot of connective candidates that
do not actually have discourse meanings. In fact, if we could identify the correct
connective components, the total number of connective candidates they form
is only 2,249, and 1,813 of them are correct, which is about 80\% of these candidates.

% i:freq-detected
\input{figures/freq-detected}

The problem caused by spurious component candidates is best illustrated in
Figure~\ref{i:linking-ambig-chart}. When correct components are identified,
the connective candidates formed by these components are limited.
Most of the components involve in only one connective, meaning that the correct linking
is known. The greatest linking ambiguity is only 5. However, when there are
spurious components, there exist a component candidate that involves in as many
as 240 connective candidates.

% i:linking-ambig-chart
\input{figures/linking-ambiguity-chart}

For relation type ambiguity, we list the number of relation types a
connective used for explicit relations in the corpus in Table~\ref{t:connective-type}.
While most connective classes are only used for 1 relation type,
the ambiguous connectives have many instances.

% t:connective-type
\input{tables/connective-type}

Table~\ref{t:argument-num} shows the number of arguments for the 1,813 explicit
relations. Most relations only have two arguments, but there are relations
that have as many as 7 arguments. The number of arguments does not always
match with the number of connective components in each relation. The same
connective can also have different number of arguments when used in
different relations. Single connectives can have as many as 6 arguments
as shown in (S~\ref{sent:same-time}), and in (S~\ref{sent:medal}),
the connective 除-外-还 (in addition to \ldots also)
has three components, but it only have two arguments.

% t:argument-num
\input{tables/argument-num}

\begin{sent}{sent:same-time}{}
    [允许中资企业保留一定限额外汇收入，可以促使企业加强经济核算，]
    [降低生产经营成本，]
    [减少企业买卖外汇的支出，]
    [\underline{同时}可消除中外资企业在结汇方面的差别待遇，]
    [完善外汇市场运作和人民币汇率形成机制，]
    [扩大金融机构外汇存贷款业务。]
    (Allowing Chinese companies to retain a certain quota of foreign exchange earnings
     may encourage enterprises to enhance economic accounting.
     This reduces production and operation costs, and the expenses for foreign
     exchanges.  At the same time, it eliminates the different treatments between
     Chinese and foreign-funded enterprises in terms of foreign exchange settlement,
     improving the operation of the foreign exchange market and the RMB
     exchange rate formation mechanism, expanding the foreign currency deposits and
     loans of financial institutions.)
\end{sent}

\begin{sent}{sent:medal}{}
    [\underline{除}戈杰安夺得金牌\underline{外}，]
    [米洛索维奇\underline{还}摘取铜牌。]
    (In addition to Gogean's gold medal, Milosovici also won the bronze medal.)
\end{sent}

\section{NTU PN-Gram Corpus}

NTU PN-Gram Corpus~\citep{yu2012development} is a large-scale corpus that was
constructed by POS-tagging the Chinese texts from the ClueWeb09
dataset~\citep{callan2009clueweb09}. In NTU PN-Gram, there are totally 173,741,587
web pages containing 141,179,769,123 tokens.

Recently, efficient methods to estimate word embeddings have been developed.
These methods learn the distributed representations for each word that encode
syntactic and semantic patterns for each word in a fixed-dimensional vector.
These vectors exhibit interesting properties. For example,
\cite{mikolov2013linguistic} pointed out that there exist linear regularities
between these vectors:

$$ vector('king') - vector('man') + vector('woman') \approx vector('queen') $$

Therefore, we investigate whether these vectors are useful for solving
discourse issues. Due to the limitation of computation powers, we use
a subset of NTU PN-Gram that was extracted by \cite{huang2014interpretation}
to train our word embeddings. These sentences were extracted with three conditions:

\begin{enumerate}
\item Each sentence must have exactly two clauses.
\item Each sentence must have exactly one instance of connective.
\item Each of the two clauses must not have more than 20 Chinese characters.
\end{enumerate}

We use an intermediate result that contains 43,010,050 sentences and eliminated
the duplicate sentences. The result are 21,217,147 sentences, containing
326,996,602 tokens. These sentences are used to train word embeddings.
We have created 400-dimensional embeddings by GloVe tool~\citep{pennington2014glove}
and word2vec tool~\citep{mikolov2013efficient,mikolov2013distributed} with CBOW and
SKIP-GRAM models. These vectors are used as features as discussed in Chapter~\ref{c:method}.
